<!DOCTYPE html>
<html lang="en-us">
  
  <!-- site.url和site.baseurl引用的是config配置文件中的配置参数 -->
<head>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700" type="text/css">
  <meta charset="UTF-8" content="李朋的Blog">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Git相关命令</title>
  <meta name="description" content="一带一路
"/>
   <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
   <meta name="theme-color" content="#157878">
   <!-- 图标link -->
  <!-- <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"> -->
  <!-- 引入google分析 -->
  <!-- <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700" rel="stylesheet" type="text/css"> -->
  <link rel="shortcut icon" href="/assets/favicon.png" type="image/png">
  <link rel="stylesheet" href="/assets/css/main.css" type="text/css">
  <script src="/assets/js/pageContent.js" charset="utf-8" type="application/javascript"></script>
  <!-- material design -->
  <!-- <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons"> -->
  <!-- <link rel="stylesheet" href="/assets/css/material.teal-red.min.css" /> -->
  <!-- <link rel="stylesheet" href="/assets/css/material.custom.css" /> -->
  <!-- <link rel="stylesheet" href="/assets/css/syntax.css" /> -->
  <!-- <script defer src="/assets/js/material.min.js"></script> -->



    <!-- <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:regular,bold,italic,thin,light,bolditalic,black,medium&amp;lang=en"> -->
    <!-- fonts-css是上面css的本地版本 -->
 <link rel="stylesheet" href="/assets/css/fonts-css.css">

    <link rel="stylesheet" href="/assets/css/material.grey-pink.min.css" />
    <link rel="stylesheet" href="/assets/css/styles.css" />


    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="/assets/css/material.custom.css" />
     <script src="/assets/js/material-custom.js" charset="utf-8" type="application/javascript"></script>

</head>


  <body style="background-color:#EEEEEF;">
    <div class="mdl-layout mdl-js-layout mdl-layout--fixed-header">
      <header class="mdl-layout__header mdl-layout__header--waterfall portfolio-header">
  <div class="mdl-layout__header-row portfolio-logo-row">
    <span class="mdl-layout__title">
      <div class="portfolio-logo"></div>
      <span class="mdl-layout__title">一带一路
</span>
    </span>
  </div>
  <div class="mdl-layout__header-row portfolio-navigation-row mdl-layout--large-screen-only">
    <nav class="mdl-navigation mdl-typography--body-1-force-preferred-font">
      
      <a id="blog" class="mdl-navigation__link is-active" href="/">Blog</a>
      
      
      <a id="categories" class="mdl-navigation__link" href="/category/">Categories</a>
      
      
      <a id="tags" class="mdl-navigation__link" href="/tag/">Tags</a>
      
      
      <a id="search" class="mdl-navigation__link" href="/search/">Search</a>
      
      <a id="github" class="mdl-navigation__link" href="http://github.com/ljpww72729/ljpww72729.github.io" target="_blank">View on GitHub</a>
    </nav>
  </div>
</header>
<div class="mdl-layout__drawer mdl-layout--small-screen-only">
  <nav class="mdl-navigation mdl-typography--body-1-force-preferred-font">
    
    <a id="s_blog" class="mdl-navigation__link is-active" style="text-decoration:none;" href="/">Blog</a>
    
    
    <a id="s_categories" class="mdl-navigation__link" style="text-decoration:none;" href="/category/">Categories</a>
    
    
    <a id="s_tags" class="mdl-navigation__link" style="text-decoration:none;" href="/tag/">Tags</a>
    
    
    <a id="s_search" class="mdl-navigation__link" style="text-decoration:none;" href="/search/">Search</a>
    
    <a id="s_github" class="mdl-navigation__link" style="text-decoration:none;" href="http://github.com/ljpww72729/ljpww72729.github.io" target="_blank">View on GitHub</a>
  </nav>
</div>

      <main class="mdl-layout__content">
        
        <div style="width:100%;">
       <div id="layout_content" style="padding:16px 0px 16px 16px; position:fixed; overflow: scroll;" ></div>

<div class="mdl-grid portfolio-max-width">

   <div class="mdl-cell mdl-cell--12-col mdl-card mdl-shadow--4dp">
    <div class="mdl-card__title">
      <h1 class="mdl-card__title-text">Git相关命令</h1>
    </div>
    <div class="mdl-card__supporting-text">
      <strong>2018-05-11</strong>
      <span> | 

<a href="/category/#tutorials" title="Category: tutorials" rel="category" class="post-category">tutorials</a>



        

<!--a href="/tag/#git" title="Tag: git" rel="tag">git</a-->
  <a href="https://ljpww72729.github.io/tag/#git" title="Tag: git" rel="tag" class = "post-tag">git</a>


</span>
    </div>
    <div class="mdl-grid portfolio-copy" style="display:block;width:100%;">
      <!-- 这里显示的是摘要信息也是概要信息 -->

<p>Git相关命令汇总，平时遇到的一些Git问题整理</p>

<!-- more -->

<nav style="z-index:9999;">
  <h3>目录</h3>
<ul id="markdown-toc">
  <li><a href="#配置" id="markdown-toc-配置">配置</a>    <ul>
      <li><a href="#查看提交分支树" id="markdown-toc-查看提交分支树">查看提交分支树</a></li>
      <li><a href="#查看状态" id="markdown-toc-查看状态">查看状态</a></li>
    </ul>
  </li>
  <li><a href="#相关命令" id="markdown-toc-相关命令">相关命令</a>    <ul>
      <li><a href="#找回曾经的的一些提交或已删除的分支" id="markdown-toc-找回曾经的的一些提交或已删除的分支">找回曾经的的一些提交或已删除的分支</a></li>
      <li><a href="#上传本地分支到远程仓库在远程仓库创建该分支同时本地跟踪远程分支" id="markdown-toc-上传本地分支到远程仓库在远程仓库创建该分支同时本地跟踪远程分支">上传本地分支到远程仓库，在远程仓库创建该分支，同时本地跟踪远程分支</a></li>
      <li><a href="#创建一个新的仓库并将本地工程同步到git仓库中" id="markdown-toc-创建一个新的仓库并将本地工程同步到git仓库中">创建一个新的仓库，并将本地工程同步到git仓库中</a></li>
    </ul>
  </li>
  <li><a href="#问题汇总" id="markdown-toc-问题汇总">问题汇总</a>    <ul>
      <li><a href="#执行git-push--u-origin-master将本地工程同步到github上报如下错误" id="markdown-toc-执行git-push--u-origin-master将本地工程同步到github上报如下错误">执行git push -u origin master将本地工程同步到GitHub上，报如下错误：</a></li>
      <li><a href="#remote-repository-not-found" id="markdown-toc-remote-repository-not-found">remote: Repository not found.</a></li>
    </ul>
  </li>
</ul>

</nav>

<!-- 设置图片公共地址 -->

<h2 id="配置">配置</h2>
<h3 id="查看提交分支树">查看提交分支树</h3>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>git log --graph --oneline --decorate
别名：git config --global alias.log-dec "log --graph --oneline --decorate"
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="查看状态">查看状态</h3>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>git status -s
别名：git config --global alias.st-s "status -s"
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="相关命令">相关命令</h2>
<h3 id="找回曾经的的一些提交或已删除的分支">找回曾经的的一些提交或已删除的分支</h3>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>git reflog show：显示提交的历史
git reset --hard SHA : SHA为需要恢复的commit对应的SHA值
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="上传本地分支到远程仓库在远程仓库创建该分支同时本地跟踪远程分支">上传本地分支到远程仓库，在远程仓库创建该分支，同时本地跟踪远程分支</h3>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>git push orign dev-lipeng:dev-lipeng //推送到仓库
git branch -u origin/dev-lipeng //跟踪远程分支
</pre></td></tr></tbody></table></code></pre></div></div>
<p>参考：<a href="https://git-scm.com/book/zh/v2/Git-%E5%88%86%E6%94%AF-%E8%BF%9C%E7%A8%8B%E5%88%86%E6%94%AF">Git 分支 - 远程分支</a></p>

<h3 id="创建一个新的仓库并将本地工程同步到git仓库中">创建一个新的仓库，并将本地工程同步到git仓库中</h3>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="rouge-code"><pre>…or create a new repository on the command line
echo "# environment" &gt;&gt; README.md
git init
git add README.md
git commit -m "first commit"
git remote add origin https://github.com/ljpww72729/environment.git
git push -u origin master

…or push an existing repository from the command line
git remote add origin https://github.com/ljpww72729/environment.git
git push -u origin master
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="问题汇总">问题汇总</h2>
<h3 id="执行git-push--u-origin-master将本地工程同步到github上报如下错误">执行git push -u origin master将本地工程同步到GitHub上，报如下错误：</h3>
<p>error: src refspec master does not match any.<br />
error: failed to push some refs to ‘https://github.com/ljpww72729/location.git’</p>

<p>可能的原因：本地并未提交任何代码，所以本地无可提交的分支。</p>

<h3 id="remote-repository-not-found">remote: Repository not found.</h3>
<p>fatal: repository ‘https://github.com/WFC-LinkedME/Android-Deep-Linking-SDK.git/’ not found<br />
在clone或git的其他操作私有库时，提示如上错误，有几点原因会导致该问题，参考官方帮助文档：<br />
https://help.github.com/articles/error-repository-not-found/<br />
不过我个人该问题的产生并不是官方中提到的原因，而是升级系统后出现的问题，网上查阅资料并没有有效的解决办法，最后发现是：在执行命令的时候没有自动添加github的帐号和密码，所以没有权限访问该资源，但是明明设置了用户名及密码，并没有起作用，所以只能手动添加用户名及密码。<br />
https://username:password@github.com/WFC-LinkedME/Android-Deep-Linking-SDK.git
如果git clone 以上链接是没有问题的，也不会报错误。但是现有的AS工程在执行git fetch + 以上链接的时候，虽然没有报错，但是还是无法fetch任何东西下来，因此该方式并不适合已经clone的项目，所以只能另想其他方法，最后在一篇文章中受到启发，修改git库中remote的origin链接。在已clone的库中打开.git/config文件，修改其中remote origin中的url地址，改成手动添加用户名密码的地址。如下所示。 <br />
<img src="/assets/blog/images/201805/11-git-01.png" alt="" /></p>


    </div>
   </div>
   </div>
</div>


        
        <div id="disqus_thread" class="mdl-grid portfolio-max-width"></div>
         <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
        

        <footer class="mdl-mini-footer">
  <div class="mdl-mini-footer__left-section">
    <div class="mdl-logo">树上刺猬</div>
  </div>
  <div class="mdl-mini-footer__right-section">
    <ul class="mdl-mini-footer__link-list">
      <li><a href="https://ljpww72729.github.io">树上刺猬</a> is maintained by <a href="http://ljpww72729.github.io">ljpww72729</a></li>
      <li>This page was generated by <a href="https://pages.github.com">GitHub Pages</a></li>
    </ul>
  </div>
</footer>

        
      </main>
    </div>
    <script src="/assets/js/material.min.js"></script>
    
    <!-- 只有在博客详情页面才加载该js -->
    <script src="/assets/js/pageContent.js"></script>
    
    <script>
      var urlString = "/tutorials/git%E7%9B%B8%E5%85%B3%E5%91%BD%E4%BB%A4.html";
      if(urlString.length > 1 && urlString.lastIndexOf("/") == urlString.length - 1){
        locateIndicate(urlString);
      }
      var isPost = 'post';
      if(isPost == 'post'){
        // 只有在博客详情页面才执行该js
        var layoutContentScroll =  document.getElementsByClassName('mdl-layout__content')[0];
        setTocLevel('2..4');
        layoutContentScroll.removeEventListener('scroll', this.handleScroll); // 删除滚动事件
        layoutContentScroll.addEventListener('scroll', this.handleScroll); // 添加滚动事件
      }
    </script>
      
        <script type="text/javascript">
          /* * * CONFIGURATION VARIABLES * * */
          var disqus_shortname = 'ljpww72729';
            
          var disqus_identifier = '/tutorials/git相关命令';
          var disqus_title = 'Git相关命令';
          var disqus_url = 'https://ljpww72729.github.io/tutorials/git%E7%9B%B8%E5%85%B3%E5%91%BD%E4%BB%A4.html';
            
          /* * * DON'T EDIT BELOW THIS LINE * * */
          (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
          })();
        </script>
       
        


        
        <script type="application/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-96911884-1', 'auto');
  ga('send', 'pageview');

</script>

        
  </body>
</html>
