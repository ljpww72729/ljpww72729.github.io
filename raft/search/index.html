<!DOCTYPE html>
<html lang="en-us">
  
  <!-- site.url和site.baseurl引用的是config配置文件中的配置参数 -->
<head>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700" type="text/css">
  <meta charset="UTF-8" content="李朋的Blog">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Search</title>
  <meta name="description" content="一带一路
"/>
   <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
   <meta name="theme-color" content="#157878">
   <!-- 图标link -->
  <!-- <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"> -->
  <!-- 引入google分析 -->
  <!-- <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700" rel="stylesheet" type="text/css"> -->
  <link rel="shortcut icon" href="/assets/favicon.png" type="image/png">
  <link rel="stylesheet" href="/assets/css/main.css" type="text/css">
  <script src="/assets/js/pageContent.js" charset="utf-8" type="application/javascript"></script>
  <!-- material design -->
  <!-- <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons"> -->
  <!-- <link rel="stylesheet" href="/assets/css/material.teal-red.min.css" /> -->
  <!-- <link rel="stylesheet" href="/assets/css/material.custom.css" /> -->
  <!-- <link rel="stylesheet" href="/assets/css/syntax.css" /> -->
  <!-- <script defer src="/assets/js/material.min.js"></script> -->



    <!-- <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:regular,bold,italic,thin,light,bolditalic,black,medium&amp;lang=en"> -->
    <!-- fonts-css是上面css的本地版本 -->
 <link rel="stylesheet" href="/assets/css/fonts-css.css">

    <link rel="stylesheet" href="/assets/css/material.grey-pink.min.css" />
    <link rel="stylesheet" href="/assets/css/styles.css" />


    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="/assets/css/material.custom.css" />
     <script src="/assets/js/material-custom.js" charset="utf-8" type="application/javascript"></script>

</head>


  <body style="background-color:#EEEEEF;">
    <div class="mdl-layout mdl-js-layout mdl-layout--fixed-header">
      <header class="mdl-layout__header mdl-layout__header--waterfall portfolio-header">
  <div class="mdl-layout__header-row portfolio-logo-row">
    <span class="mdl-layout__title">
      <div class="portfolio-logo"></div>
      <span class="mdl-layout__title">一带一路
</span>
    </span>
  </div>
  <div class="mdl-layout__header-row portfolio-navigation-row mdl-layout--large-screen-only">
    <nav class="mdl-navigation mdl-typography--body-1-force-preferred-font">
      
      <a id="blog" class="mdl-navigation__link is-active" href="/">Blog</a>
      
      
      <a id="categories" class="mdl-navigation__link" href="/category/">Categories</a>
      
      
      <a id="tags" class="mdl-navigation__link" href="/tag/">Tags</a>
      
      
      <a id="search" class="mdl-navigation__link" href="/search/">Search</a>
      
      <a id="github" class="mdl-navigation__link" href="http://github.com/ljpww72729/ljpww72729.github.io" target="_blank">View on GitHub</a>
    </nav>
  </div>
</header>
<div class="mdl-layout__drawer mdl-layout--small-screen-only">
  <nav class="mdl-navigation mdl-typography--body-1-force-preferred-font">
    
    <a id="s_blog" class="mdl-navigation__link is-active" style="text-decoration:none;" href="/">Blog</a>
    
    
    <a id="s_categories" class="mdl-navigation__link" style="text-decoration:none;" href="/category/">Categories</a>
    
    
    <a id="s_tags" class="mdl-navigation__link" style="text-decoration:none;" href="/tag/">Tags</a>
    
    
    <a id="s_search" class="mdl-navigation__link" style="text-decoration:none;" href="/search/">Search</a>
    
    <a id="s_github" class="mdl-navigation__link" style="text-decoration:none;" href="http://github.com/ljpww72729/ljpww72729.github.io" target="_blank">View on GitHub</a>
  </nav>
</div>

      <main class="mdl-layout__content">
        
        <!-- Textfield with Floating Label -->
<div class="mdl-grid portfolio-max-width">
  <div class="mdl-cell mdl-cell--12-col mdl-card mdl-shadow--4dp">
    <div class="mdl-card__supporting-text" style="width:100%;">
      <form action="#"  style="float:left;width:calc(100% - 36px); margin-right:4px;">
        <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label" style="width:100%">
          <input class="mdl-textfield__input" type="text" id="query"  style="width:100%" onkeypress="if(event.keyCode==13) {searchBut.click();return false;}">
          <label class="mdl-textfield__label" for="query">正则搜索标题、标签、URL和内容</label>
        </div>
      </form>

      <div id="searchBut"   onclick="getXMLHttp()" class="mdl-textfield mdl-js-textfield mdl-textfield--expandable">
        <label class="mdl-button mdl-js-button mdl-button--icon">
          <i class="material-icons">search</i>
        </label>
      </div>
      <div id="result" style="margin-top:30px;"></div>
    </div>
  </div>
</div>




<script type="text/javascript">
  function startSearch(searchPattern,ajaxResult){
    var output="";
    var reg = new RegExp(searchPattern,"im");
    var dataJson = eval("(" + ajaxResult + ")");    
    
    for (var i=0;i<dataJson.length;i++){
      var title = dataJson[i].title;
      var category = dataJson[i].category;
      var tags = dataJson[i].tags;
                    var url = dataJson[i].url;
                    var date = dataJson[i].date;
                         var excerpt = dataJson[i].excerpt;
      var content = dataJson[i].content;
      if (reg.test(title+tags+url+content)){
        var item = '';
        item = "<div class='mdl-card__supporting-text  mdl-color-text--grey-600' style='border-bottom: 1px solid rgba(0,0,0,0.1); width:100%;'><a href='"+url+"'><strong style='user-select: text;'>" + title + "</strong></a> <div style='margin: .5rem 0;'><span> "+ date +" | </span> <a href='/category/#"+ category +"' title='Category: "+ category +"' rel='category' class='post-category'>"+ category+"</a> <a href='https://ljpww72729.github.io/tag/#"+ tags+"' title='Tag: "+ tags +"' rel='tag' class = 'post-tag'>"+ tags +"</a></div><p>" + excerpt  + " ...</p></div>";
        // content.substr(0,254)
        output += item;
      }
    }
    if (output === ""){
      var searchPattern = document.getElementById("query").value;
      output="未搜索到含有 \"" + searchPattern + "\" 关键字的相关博文，请简化搜索内容~";
    }
    document.getElementById("result").innerHTML=output;    
    
  }
function getXMLHttp(){
  var searchPattern = "";  
  searchPattern = document.getElementById("query").value;
  if (searchPattern === ""){
    return;
  }
  
  if (window.XMLHttpRequest){
    // code for IE7+, Firefox, Chrome, Opera, Safari
    xmlhttp=new XMLHttpRequest();
  }else{
    // code for IE6, IE5
    xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
  }
  xmlhttp.onreadystatechange=function(){
    if (xmlhttp.readyState==4 && xmlhttp.status==200){
      startSearch(searchPattern,xmlhttp.responseText);
    }
  }
  xmlhttp.open("GET","/search.json",true);
  xmlhttp.send();
  xmlhttp.onerror = function(data){console.log("ajax errrorr")};
}
                    </script>


        

        <footer class="mdl-mini-footer">
  <div class="mdl-mini-footer__left-section">
    <div class="mdl-logo">树上刺猬</div>
  </div>
  <div class="mdl-mini-footer__right-section">
    <ul class="mdl-mini-footer__link-list">
      <li><a href="https://ljpww72729.github.io">树上刺猬</a> is maintained by <a href="http://ljpww72729.github.io">ljpww72729</a></li>
      <li>This page was generated by <a href="https://pages.github.com">GitHub Pages</a></li>
    </ul>
  </div>
</footer>

        
      </main>
    </div>
    <script src="/assets/js/material.min.js"></script>
    
    <script>
      var urlString = "/search/";
      if(urlString.length > 1 && urlString.lastIndexOf("/") == urlString.length - 1){
        locateIndicate(urlString);
      }
      var isPost = 'default';
      if(isPost == 'post'){
        // 只有在博客详情页面才执行该js
        var layoutContentScroll =  document.getElementsByClassName('mdl-layout__content')[0];
        setTocLevel('2..4');
        layoutContentScroll.removeEventListener('scroll', this.handleScroll); // 删除滚动事件
        layoutContentScroll.addEventListener('scroll', this.handleScroll); // 添加滚动事件
      }
    </script>
      


        
        <script type="application/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-96911884-1', 'auto');
  ga('send', 'pageview');

</script>

        
  </body>
</html>
